{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/build-images/setup_docker_context.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","name","_frontmatter","InlineNotification","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-build-images-setup-docker-context-mdx-c3575c7ec6c53bfc1d04.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`To build the required Docker images, the context for building them must be established as described in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.docker.com/engine/reference/commandline/build/\"\n      }}>{`Docker build`}</a>{` command description.`}</p>\n    <p>{`The following components provide this context:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The artifacts that you downloaded by following the steps that are described in `}<a parentName=\"li\" {...{\n          \"href\": \"/spm-kubernetes/prereq/git\"\n        }}>{`GitHub repo`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`release.zip`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`StaticContent.zip`}</inlineCode>{` files that you built in `}<a parentName=\"li\" {...{\n          \"href\": \"/spm-kubernetes/deploy-spm/build-spm\"\n        }}>{`Building the SPM application`}</a>{`.`}</li>\n    </ul>\n    <h2>{`Building IBM® Social Program Management (SPM) resources`}</h2>\n    <p>{`Some of the Docker images that you build rely on the `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`StaticContent.zip`}</inlineCode>{` files that you built in `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deploy-spm/build-spm\"\n      }}>{`Building the SPM application`}</a>{`.`}</p>\n    <p>{`If you built `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`StaticContent.zip`}</inlineCode>{` on a different computer to the one where container environment will be deployed, you must transfer the files to the computer you’re currently working on.\nFor simplicity, it is assumed that these files are copied to `}<inlineCode parentName=\"p\">{`/tmp/`}</inlineCode>{`.`}</p>\n    <h2>{`Preparing the SPM environment`}</h2>\n    <p>{`Prepare the SPM Docker environment by using the `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` file.`}</p>\n    <p>{`For the following steps, use the `}<inlineCode parentName=\"p\">{`$SPM_HOME`}</inlineCode>{` folder that you created in `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/prereq/git\"\n      }}>{`GitHub repo`}</a>{`.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To create a `}<inlineCode parentName=\"p\">{`release-stage`}</inlineCode>{` folder to contain the contents of `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{`, run the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`mkdir $SPM_HOME/dockerfiles/Liberty/content/release-stage\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To extract `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` into the `}<inlineCode parentName=\"p\">{`release-stage`}</inlineCode>{` folder, run the following commands:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`unzip -qd $SPM_HOME/dockerfiles/Liberty/content/release-stage /tmp/release.zip\nchmod +x $SPM_HOME/dockerfiles/Liberty/content/release-stage/*.sh\n`}</code></pre>\n        <p parentName=\"li\">{`Where `}<inlineCode parentName=\"p\">{`/tmp/release.zip`}</inlineCode>{` is the absolute path where the `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` is saved.`}</p>\n      </li>\n    </ol>\n    <h2>{`Modifying SPM properties`}</h2>\n    <p><inlineCode parentName=\"p\">{`Bootstrap.properties`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`AppServer.properties`}</inlineCode>{` are required to configure WebSphere® Liberty.\nHowever the relevant properties in `}<inlineCode parentName=\"p\">{`Bootstrap.properties`}</inlineCode>{` that you modify in the on-premise implementation of SPM are no longer relevant because Kubernetes configmaps provide the necessary values for the database configuration.`}</p>\n    <p>{`The only properties that you must modify in `}<inlineCode parentName=\"p\">{`AppServer.properties`}</inlineCode>{` are `}<inlineCode parentName=\"p\">{`security.username`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`security.password`}</inlineCode>{`.\nThese properties contain the WebSphere Liberty administrator credentials. If the password is changed, the value must be the encrypted  by running the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SERVER_DIR\n./build.sh encrypt -Dpassword=<The password to be encrypted>\n`}</code></pre>\n    <p>{`Copy the property files by using the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/dockerfiles/Liberty/content\ncp -vf *.properties release-stage/project/properties/\n`}</code></pre>\n    <h2>{`WebSphere Liberty server configuration`}</h2>\n    <p>{`All configuration of WebSphere Liberty will be handled by the Helm Charts. See the `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/hc_preparation\"\n      }}>{`Preparing Helm Charts`}</a>{` topic for more information.`}</p>\n    <h2>{`Copying static content artifacts`}</h2>\n    <p>{`Copy the static content `}<inlineCode parentName=\"p\">{`.zip`}</inlineCode>{` file for Docker image creation. Run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cp -vf /tmp/StaticContent.zip $SPM_HOME/dockerfiles/HTTPServer/\n`}</code></pre>\n    <h2>{`Installing external artifacts`}</h2>\n    <p>{`In addition to `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`StaticContent.zip`}</inlineCode>{`, download and install the following artifacts.`}</p>\n    <h3>{`Add the Ant zip file to the Docker environment`}</h3>\n    <p>{`Copy `}<inlineCode parentName=\"p\">{`apache-ant-1.10.6-bin.zip`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`$SPM_HOME/dockerfiles/Liberty/content`}</inlineCode>{`. If Ant is not already available on the computer, run the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/dockerfiles/Liberty/content\nwget https://archive.apache.org/dist/ant/binaries/apache-ant-1.10.6-bin.zip\n`}</code></pre>\n    <h3>{`CryptoConfig.jar`}</h3>\n    <p><inlineCode parentName=\"p\">{`CryptoConfig.jar`}</inlineCode>{` is required for SPM cryptography to function correctly. This jar is automatically created in the following locations when you run the\n`}<inlineCode parentName=\"p\">{`build.sh configtest`}</inlineCode>{` target:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`$SERVER_DIR/build/CryptoConfig.jar`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`$JAVA_HOME/jre/lib/ext/CryptoConfig.jar`}</inlineCode></li>\n    </ul>\n    <p>{`However, the `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` does not include this jar file, so the jar file must be copied separately from the environment where the `}<inlineCode parentName=\"p\">{`release.zip`}</inlineCode>{` was built.`}</p>\n    <p>{`Place the `}<inlineCode parentName=\"p\">{`CryptoConfig.jar`}</inlineCode>{` file in `}<inlineCode parentName=\"p\">{`$SPM_HOME/dockerfiles/Liberty/content/release-stage/build`}</inlineCode>{`.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Cryptography keystores for SPM vary based on the JVM vendor, so the vendor in the build environment must correspond to that used in the Docker images.\nThe `}<inlineCode parentName=\"p\">{`websphere-liberty`}</inlineCode>{` images from `}<a parentName=\"p\" {...{\n          \"href\": \"https://hub.docker.com/_/websphere-liberty\"\n        }}>{`Docker Hub`}</a>{` use IBM Java SDK 8.`}</p>\n    </InlineNotification>\n    <p>{`For convenience, you can use a docker container to create the `}<inlineCode parentName=\"p\">{`CryptoConfig.jar`}</inlineCode>{` file.\nNote the use of `}<inlineCode parentName=\"p\">{`$ANT_HOME`}</inlineCode>{` environment variable in the following `}<inlineCode parentName=\"p\">{`docker run`}</inlineCode>{` command.\nThis value must map to a working copy of Ant on your workstation.\nIf you do not have a copy of Ant locally you can extract it from `}<inlineCode parentName=\"p\">{`$SPM_HOME`}</inlineCode>{` using:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`unzip -qd /tmp/ $SPM_HOME/dockerfiles/Liberty/content/apache-ant-1.10.6-bin.zip\nexport ANT_HOME=/tmp/apache-ant-1.10.6\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker run --rm \\\\\n    -v $ANT_HOME:/tmp/ant \\\\\n    -v $SPM_HOME/dockerfiles/Liberty/content/release-stage:/work/dir \\\\\n    -v $SPM_HOME/dockerfiles/Liberty/content/release-stage/SetEnvironment.sh:/work/SetEnvironment.sh \\\\\n    -w /work/dir \\\\\n    -u root \\\\\n    -e ANT_HOME=/tmp/ant \\\\\n    -e WLP_HOME=/opt/ibm/wlp \\\\\n    ibmcom/websphere-liberty:20.0.0.9-full-java8-ibmjava-ubi \\\\\n    bash -c 'export PATH=$ANT_HOME/bin:$PATH:.; build.sh internal.update.crypto.jar'\n`}</code></pre>\n    <h3>{`Installing javax.mail.jar and activation.jar files`}</h3>\n    <p>{`Java Mail is an external dependency for SPM and is represented by the JAR files `}<inlineCode parentName=\"p\">{`activation.jar`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`javax.mail.jar`}</inlineCode>{`.\nPlace these files in the folder `}<inlineCode parentName=\"p\">{`$SPM_HOME/dockerfiles/Liberty/content/dependencies`}</inlineCode>{` (filenames must be exact, that is, have no version numbers).`}</p>\n    <p>{`If you do not have the jar files available, you can use the `}<inlineCode parentName=\"p\">{`getJavaMail.xml`}</inlineCode>{` Ant file that is located in the `}<inlineCode parentName=\"p\">{`$SPM_HOME/dockerfiles/Liberty/content`}</inlineCode>{` folder to download the files:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd $SPM_HOME/dockerfiles/Liberty/content\n$ANT_HOME/bin/ant -f getJavaMail.xml\n`}</code></pre>\n    <p>{`Confirm the availability of the JAR files by running the following command:`}</p>\n    <p><inlineCode parentName=\"p\">{`ls $SPM_HOME/dockerfiles/Liberty/content/dependencies`}</inlineCode></p>\n    <h3>{`Downloading IBM MQ Resource Adapter`}</h3>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` As of Release 20.7.0, the IBM MQ Resource Adapter version used to verify this runbook is 9.1.5.0.`}</p>\n    </InlineNotification>\n    <p>{`IBM MQ is required for WebSphere Liberty JMS support, therefore you must install the MQ Resource Adapter.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Download the IBM MQ resource adapter from Fix Central.`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Click this link: `}<a parentName=\"p\" {...{\n                \"href\": \"https://ibm.biz/mq91cdRA\"\n              }}>{`IBM MQ Resource Adapter`}</a></p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Find the resource adapter for your version of IBM MQ in the displayed list of available fixes. For example:`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`release level: 9.1.5.0-IBM-MQ-Java-InstallRA\nContinuous Delivery Release: 9.1.5 IBM MQ Resource Adapter for use with Application Servers\n`}</code></pre>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Then click the resource adapter file name and follow the download process.`}</p>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy the downloaded file ( `}<inlineCode parentName=\"p\">{`V.R.M.F-IBM-MQ-Java-InstallRA.jar`}</inlineCode>{` ) to `}<inlineCode parentName=\"p\">{`$SPM_HOME/dockerfiles/Liberty/content/`}</inlineCode>{`.`}</p>\n      </li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}